@using appWebPrueba.DataAccess
@model appWebPrueba.Models.ArticuloVM


<div class="card-body">
    @Html.HiddenFor(x => Model.Estado)

    @Html.HiddenFor(x => Model.intArticuloID)
    <div class="form-group row">
        <div class="col-lg-4">
            @Html.LabelFor(y => y.intArticuloID, new { @class = "label-form" })
            <div class="input-group">
                @Html.TextBoxFor(y => y.intArticuloID, new { @class = "form-control", @readonly = "readonly" })
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-lg-6">
            @Html.LabelFor(x => x.PartDesc, new { @class = "label-form" })
            <div class="input-group">
                @Html.TextBoxFor(x => x.PartDesc, new { @class = "form-control" })
            </div>
            @Html.ValidationMessageFor(x => x.PartDesc, "", new { @class = "text-danger" })
        </div>
        <div class="col-lg-6">
            @Html.LabelFor(x => x.PartNum, new { @class = "label-form" })
            <div class="input-group">
                @Html.TextBoxFor(x => x.PartNum, new { @class = "form-control" })
            </div>
            @Html.ValidationMessageFor(x => x.PartNum, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group row">
        <div class="col-lg-2">
            @Html.LabelFor(x => x.intUnidadMedidaCompra, new { @class = "label-form" })
            <select data-plugin-selectTwo data-minimum-results-for-search="Infinity"
                    class="form-control populate mb-4"
                    name="@Html.NameFor(x => x.UnidadMedida.UnidadMedidaID)"
                    id="cboUMCompra_E">

                @if (Model.UnidadMedidaCompra.UnidadMedidaID != null)
                {
                    <option value="@Model.UnidadMedidaCompra.UnidadMedidaID">@Model.UnidadMedidaCompra.NombreUnidadMedida</option>
                }
                else
                {
                    <option value="">Seleccione...</option>
                }
                @foreach (appWebPrueba.Models.UnidadMedida unidadMedida in Model.lUnidadMedida)
                {
                    <option value="@unidadMedida.UnidadMedidaID">
                        @unidadMedida.NombreUnidadMedida
                    </option>
                }
            </select>
        </div>
        <div class="col-lg-2">
            @Html.LabelFor(x => x.dblConversionCompraAlmacen, new { @class = "label-form" })
            <div class="input-group">
                @Html.TextBoxFor(x => x.dblConversionCompraAlmacen, new { @class = "form-control" })
            </div>
            @Html.ValidationMessageFor(x => x.dblConversionCompraAlmacen, "", new { @class = "text-danger" })
        </div>
        <div class="col-lg-2">
            @Html.LabelFor(x => x.intUnidadMedidaAlmacen, new { @class = "label-form" })
            <select data-plugin-selectTwo data-minimum-results-for-search="Infinity"
                    class="form-control populate mb-4"
                    name="@Html.NameFor(x => x.UnidadMedida.UnidadMedidaID)"
                    id="cboUMAlmacen_E">

                @if (Model.UnidadMedidaAlmacen.UnidadMedidaID != null)
                {
                    <option value="@Model.UnidadMedidaAlmacen.UnidadMedidaID">@Model.UnidadMedidaAlmacen.NombreUnidadMedida</option>
                }
                else
                {
                    <option value="">Seleccione...</option>
                }
                @foreach (appWebPrueba.Models.UnidadMedida unidadMedida in Model.lUnidadMedida)
                {
                    <option value="@unidadMedida.UnidadMedidaID">
                        @unidadMedida.NombreUnidadMedida
                    </option>
                }
            </select>
        </div>
        <div class="col-lg-2">
            @Html.LabelFor(x => x.dblConversionAlmacenVenta, new { @class = "label-form" })
            <div class="input-group">
                @Html.TextBoxFor(x => x.dblConversionAlmacenVenta, new { @class = "form-control" })
            </div>
            @Html.ValidationMessageFor(x => x.dblConversionAlmacenVenta, "", new { @class = "text-danger" })
        </div>
        <div class="col-lg-2">
            @Html.LabelFor(x => x.intUnidadMedidaVenta, new { @class = "label-form" })
            <select data-plugin-selectTwo data-minimum-results-for-search="Infinity"
                    class="form-control populate mb-4"
                    name="@Html.NameFor(x => x.UnidadMedida.UnidadMedidaID)"
                    id="cboUMVenta_E">

                @if (Model.UnidadMedidaVenta.UnidadMedidaID != null)
                {
                    <option value="@Model.UnidadMedidaVenta.UnidadMedidaID">@Model.UnidadMedidaVenta.NombreUnidadMedida</option>
                }
                else
                {
                    <option value="">Seleccione...</option>
                }
                @foreach (appWebPrueba.Models.UnidadMedida unidadMedida in Model.lUnidadMedida)
                {
                    <option value="@unidadMedida.UnidadMedidaID">
                        @unidadMedida.NombreUnidadMedida
                    </option>
                }
            </select>
        </div>
        <div class="col-lg-2">
            @Html.LabelFor(x => x.intProveedorBase, new { @class = "label-form" })
            <select data-plugin-selectTwo data-minimum-results-for-search="Infinity"
                    class="form-control populate mb-4"
                    name="@Html.NameFor(x => x.Proveedor.ProveedorID)"
                    id="cboProveedor_E">

                @if (Model.Proveedor.ProveedorID != null)
                {
                    <option value="@Model.Proveedor.ProveedorID">@Model.Proveedor.NombreProveedor</option>
                }
                else
                {
                    <option value="">Seleccione...</option>
                }
                @foreach (appWebPrueba.Models.Proveedor proveedor in Model.lProveedor)
                {
                    <option value="@proveedor.ProveedorID">
                        @proveedor.NombreProveedor
                    </option>
                }
            </select>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-lg-4">
            &nbsp;
        </div>
        <div class="col-lg-4">
            &nbsp;
        </div>
        <div class="col-lg-4">
            @Html.LabelFor(y => y.Estado, new { @class = "label-form" })
            <div class="input-group">
                <span class="input-group-prepend">
                    <span class="input-group-text">
                        <i>
                            <input type="radio" value="" name="radioActivoE" id="radioActivoE"
                                   onclick="radioActivoE()">
                        </i>
                    </span>
                </span>
                <input value="Activo" class="form-control" type="text" readonly>
            </div>
        </div>
    </div>
    <div class="form-group row">
        <div class="col-lg-12">
            <div class="btn btn-dark float-right" id="GuardaEditArticulo-btn">
                Actualizar
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {
        var estado = $(@Html.IdFor(y => Model.Estado)).val();

        if (estado == 'False') { $("#radioActivoE").prop('checked', false); $("#radioActivoE").prop('value', 0); } else { $("#radioActivoE").attr('checked', true); $("#radioActivoE").prop('value', 1); }


    });
</script>
