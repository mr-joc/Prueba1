(function(n){typeof define=="function"&&define.amd?define(["./dependencyLibs/inputmask.dependencyLib","./global/window","./global/document"],n):typeof exports=="object"?module.exports=n(require("./dependencyLibs/inputmask.dependencyLib"),require("./global/window"),require("./global/document")):window.Inputmask=n(window.dependencyLib||jQuery,window,document)})(function(n,t,i,r){function u(t,i,f){if(!(this instanceof u))return new u(t,i,f);this.el=r;this.events={};this.maskset=r;this.refreshValue=!1;f!==!0&&(n.isPlainObject(t)?i=t:(i=i||{},t&&(i.alias=t)),this.opts=n.extend(!0,{},this.defaults,i),this.noMasksCache=i&&i.definitions!==r,this.userOptions=i||{},this.isRTL=this.opts.numericInput,h(this.opts.alias,i,this.opts))}function h(t,i,f){var e=u.prototype.aliases[t];return e?(e.alias&&h(e.alias,r,f),n.extend(!0,f,e),n.extend(!0,f,i),!0):(f.mask===null&&(f.mask=t),!1)}function e(t,i){function o(t,f,e){var o=!1,c,s,h;return(t===null||t==="")&&(o=e.regex!==null,o?(t=e.regex,t=t.replace(/^(\^)(.*)(\$)$/,"$2")):(o=!0,t=".*")),t.length===1&&e.greedy===!1&&e.repeat!==0&&(e.placeholder=""),(e.repeat>0||e.repeat==="*"||e.repeat==="+")&&(c=e.repeat==="*"?0:e.repeat==="+"?1:e.repeat,t=e.groupmarker[0]+t+e.groupmarker[1]+e.quantifiermarker[0]+c+","+e.repeat+e.quantifiermarker[1]),h=o?"regex_"+e.regex:e.numericInput?t.split("").reverse().join(""):t,u.prototype.masksCache[h]===r||i===!0?(s={mask:t,maskToken:u.prototype.analyseMask(t,o,e),validPositions:{},_buffer:r,buffer:r,tests:{},excludes:{},metadata:f,maskLength:r},i!==!0&&(u.prototype.masksCache[h]=s,s=n.extend(!0,{},u.prototype.masksCache[h]))):s=n.extend(!0,{},u.prototype.masksCache[h]),s}var e,f;if(n.isFunction(t.mask)&&(t.mask=t.mask(t)),n.isArray(t.mask)){if(t.mask.length>1){if(t.keepStatic===null)for(t.keepStatic="auto",e=0;e<t.mask.length;e++)if(t.mask[e].charAt(0)!==t.mask[0].charAt(0)){t.keepStatic=!0;break}return f=t.groupmarker[0],n.each(t.isRTL?t.mask.reverse():t.mask,function(i,u){f.length>1&&(f+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]);f+=u.mask===r||n.isFunction(u.mask)?u:u.mask}),f+=t.groupmarker[1],o(f,t.mask,t)}t.mask=t.mask.pop()}return t.mask&&t.mask.mask!==r&&!n.isFunction(t.mask.mask)?o(t.mask.mask,t.mask,t):o(t.mask,t.mask,t)}function a(n){var t=i.createElement("input"),r="on"+n,u=r in t;return u||(t.setAttribute(r,"return;"),u=typeof t[r]=="function"),t=null,u}function f(e,h,c){function wt(n,t,i,u,f){var y=c.greedy,l;f&&(c.greedy=!1);t=t||0;var h=[],a,e=0,o,s,p=w();do n===!0&&v().validPositions[e]?(s=f&&v().validPositions[e].match.optionality===!0&&v().validPositions[e+1]===r&&(v().validPositions[e].generatedInput===!0||v().validPositions[e].input==c.skipOptionalPartCharacter&&e>0)?ii(e,ht(e,a,e-1)):v().validPositions[e],o=s.match,a=s.locator.slice(),h.push(i===!0?s.input:i===!1?o.nativeDef:ut(e,o))):(s=bt(e,a,e-1),o=s.match,a=s.locator.slice(),l=u===!0?!1:c.jitMasking!==!1?c.jitMasking:o.jit,(l===!1||l===r||typeof l=="number"&&isFinite(l)&&l>e)&&h.push(i===!1?o.nativeDef:ut(e,o))),c.keepStatic==="auto"&&o.newBlockMarker&&o.fn!==null&&(c.keepStatic=e-1),e++;while((lt===r||e<lt)&&(o.fn!==null||o.def!=="")||t>e);return h[h.length-1]===""&&h.pop(),(i!==!1||v().maskLength===r)&&(v().maskLength=e-1),c.greedy=y,h}function v(){return h}function et(n){var t=v();t.buffer=r;n!==!0&&(t.validPositions={},t.p=0)}function w(n,t,i){var f=-1,e=-1,o=i||v().validPositions,s,u;n===r&&(n=-1);for(s in o)u=parseInt(s),o[u]&&(t||o[u].generatedInput!==!0)&&(u<=n&&(f=u),u>=n&&(e=u));return f===-1||f==n?e:e==-1?f:n-f<e-n?f:e}function ci(n){var t=n.locator[n.alternation];return typeof t=="string"&&t.length>0&&(t=t.split(",")[0]),t!==r?t.toString():""}function yi(n,t){var i=(n.alternation!=r?n.mloc[ci(n)]:n.locator).join("");if(i!=="")while(i.length<t)i+="0";return i}function ii(n,t){var c,e,o,s,i,f,u,h;for(n=n>0?n-1:0,c=tt(n),e=yi(c),f=0;f<t.length;f++)u=t[f],o=yi(u,e.length),h=Math.abs(o-e),(s===r||o!==""&&h<s||i&&i.match.optionality&&i.match.newBlockMarker==="master"&&(!u.match.optionality||!u.match.newBlockMarker)||i&&i.match.optionalQuantifier&&!u.match.optionalQuantifier)&&(s=h,i=u);return i}function bt(n,t,i){return v().validPositions[n]||ii(n,ht(n,t?t.slice():t,i))}function tt(n,t){return v().validPositions[n]?v().validPositions[n]:(t||ht(n))[0]}function tr(n,t){for(var u=!1,r=ht(n),i=0;i<r.length;i++)if(r[i].match&&r[i].match.def===t){u=!0;break}return u}function ht(t,i,u){function w(i,u,s,l){function b(s,l,a){function ht(t,i){var r=n.inArray(t,i.matches)===0;return r||n.each(i.matches,function(n,u){return u.isQuantifier===!0?r=ht(t,i.matches[n-1]):u.hasOwnProperty("matches")&&(r=ht(t,u)),r?!1:void 0}),r}function bt(t,i,u){var f,e,o,s;return(v().tests[t]||v().validPositions[t])&&n.each(v().tests[t]||[v().validPositions[t]],function(n,t){if(t.mloc[i])return f=t,!1;var s=u!==r?u:t.alternation,o=t.locator[s]!==r?t.locator[s].toString().indexOf(i):-1;(e===r||o<e)&&o!==-1&&(f=t,e=o)}),f?(o=f.locator[f.alternation],s=f.mloc[i]||f.mloc[o]||f.locator,s.slice((u!==r?u:f.alternation)+1)):u!==r?bt(t,i):r}function kt(n,t){function i(n){for(var i=[],r,u,t=0,f=n.length;t<f;t++)if(n.charAt(t)==="-")for(u=n.charCodeAt(t+1);++r<u;)i.push(String.fromCharCode(r));else r=n.charCodeAt(t),i.push(n.charAt(t));return i.join("")}return c.regex&&n.match.fn!==null&&t.match.fn!==null?i(t.match.def.replace(/[\[\]]/g,"")).indexOf(i(n.match.def.replace(/[\[\]]/g,"")))!==-1:n.match.def===t.match.nativeDef}function ri(n,i){var u=n.locator.slice(n.alternation).join(""),f=i.locator.slice(i.alternation).join(""),r=u==f,r=r&&n.match.fn===null&&i.match.fn!==null?i.match.fn.test(n.match.def,v(),t,!1,c,!1):!1;return r}function et(n,t){var i,u;if(t===r||n.alternation===t.alternation&&n.locator[n.alternation].toString().indexOf(t.locator[t.alternation])===-1)if(n.mloc=n.mloc||{},i=n.locator[n.alternation],i===r)n.alternation=r;else{if(typeof i=="string"&&(i=i.split(",")[0]),n.mloc[i]===r&&(n.mloc[i]=n.locator.slice()),t!==r){for(u in t.mloc)typeof u=="string"&&(u=u.split(",")[0]),n.mloc[u]===r&&(n.mloc[u]=t.mloc[u]);n.locator[n.alternation]=Object.keys(n.mloc).join(",")}return!0}return!1}var dt,ti,lt,ii,wt,ot,at,k,st,vt,g,ut,rt,ft;if(f>500&&a!==r)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+v().mask;if(f===t&&s.matches===r)return e.push({match:s,locator:l.reverse(),cd:y,mloc:{}}),!0;if(s.matches!==r){if(s.isGroup&&a!==s){if(s=b(i.matches[n.inArray(s,i.matches)+1],l,a),s)return!0}else if(s.isOptional){if(dt=s,s=w(s,u,l,a),s)if(n.each(e,function(n,t){t.match.optionality=!0}),o=e[e.length-1].match,a===r&&ht(o,dt))h=!0,f=t;else return!0}else if(s.isAlternator){var ct=s,nt=[],yt,ui=e.slice(),gt=l.length,tt=u.length>0?u.shift():-1;if(tt===-1||typeof tt=="string"){var ni=f,pt=u.slice(),d=[],it;if(typeof tt=="string")d=tt.split(",");else for(it=0;it<ct.matches.length;it++)d.push(it.toString());if(v().excludes[t]){for(ti=d.slice(),lt=0,ii=v().excludes[t].length;lt<ii;lt++)d.splice(d.indexOf(v().excludes[t][lt].toString()),1);d.length===0&&(v().excludes[t]=r,d=ti)}for((c.keepStatic===!0||isFinite(parseInt(c.keepStatic))&&ni>=c.keepStatic)&&(d=d.slice(0,1)),wt=!1,ot=0;ot<d.length;ot++)for(it=parseInt(d[ot]),e=[],u=typeof tt=="string"?bt(f,it,gt)||pt.slice():pt.slice(),ct.matches[it]&&b(ct.matches[it],[it].concat(l),a)?s=!0:ot===0&&(wt=!0),yt=e.slice(),f=ni,e=[],at=0;at<yt.length;at++){for(k=yt[at],st=!1,k.match.jit=k.match.jit||wt,k.alternation=k.alternation||gt,et(k),vt=0;vt<nt.length;vt++)if(g=nt[vt],typeof tt!="string"||k.alternation!==r&&n.inArray(k.locator[k.alternation].toString(),d)!==-1)if(k.match.nativeDef===g.match.nativeDef){st=!0;et(g,k);break}else if(kt(k,g)){et(k,g)&&(st=!0,nt.splice(nt.indexOf(g),0,k));break}else if(kt(g,k)){et(g,k);break}else if(ri(k,g)){et(k,g)&&(st=!0,nt.splice(nt.indexOf(g),0,k));break}st||nt.push(k)}e=ui.concat(nt);f=t;h=e.length>0;s=nt.length>0;u=pt.slice()}else s=b(ct.matches[tt]||i.matches[tt],[tt].concat(l),a);if(s)return!0}else if(s.isQuantifier&&a!==i.matches[n.inArray(s,i.matches)-1]){for(ut=s,rt=u.length>0?u.shift():0;rt<(isNaN(ut.quantifier.max)?rt+1:ut.quantifier.max)&&f<=t;rt++)if(ft=i.matches[n.inArray(ut,i.matches)-1],s=b(ft,[rt].concat(l),ft),s){if(o=e[e.length-1].match,o.optionalQuantifier=rt>ut.quantifier.min-1,o.jit=(rt||1)*ft.matches.indexOf(o)>=ut.quantifier.jit,o.optionalQuantifier&&ht(o,ft)){h=!0;f=t;break}if(o.jit&&!o.optionalQuantifier){p=ft.matches.indexOf(o);f=t;h=!0;break}return!0}}else if(s=w(s,u,l,a),s)return!0}else f++}for(var k,a=u.length>0?u.shift():0;a<i.matches.length;a=a+1+p)if(p=0,i.matches[a].isQuantifier!==!0){if(k=b(i.matches[a],[a].concat(s),l),k&&f===t)return k;if(f>t)break}}function g(t,i){var u=[];return n.isArray(i)||(i=[i]),i.length>0&&(i[0].alternation===r?(u=ii(t,i.slice()).locator.slice(),u.length===0&&(u=i[0].locator.slice())):n.each(i,function(n,t){if(t.def!=="")if(u.length===0)u=t.locator.slice();else for(var i=0;i<u.length;i++)t.locator[i]&&u[i].toString().indexOf(t.locator[i])===-1&&(u[i]+=","+t.locator[i])})),u}var k=v().maskToken,f=i?u:0,a=i?i.slice():[0],e=[],h=!1,o,y=i?i.join(""):"",p=0,s,b,l,d;if(t>-1){if(i===r){for(s=t-1;(b=v().validPositions[s]||v().tests[s])===r&&s>-1;)s--;b!==r&&s>-1&&(a=g(s,b),y=a.join(""),f=s)}if(v().tests[t]&&v().tests[t][0].cd===y)return v().tests[t];for(l=a.shift();l<k.length;l++)if(d=w(k[l],a,[l]),d&&f===t||f>t)break}return((e.length===0||h)&&e.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:y}),i!==r&&v().tests[t])?n.extend(!0,[],e):(v().tests[t]=n.extend(!0,[],e),v().tests[t])}function ot(){return v()._buffer===r&&(v()._buffer=wt(!1,1),v().buffer===r&&(v().buffer=v()._buffer.slice())),v()._buffer}function p(n){return(v().buffer===r||n===!0)&&(v().buffer=wt(!0,w(),!0)),v().buffer}function pi(n,t,i){var u,e,f;if(n===!0)et(),n=0,t=i.length;else for(u=n;u<t;u++)delete v().validPositions[u];for(e=n,u=n;u<t;u++)et(!0),i[u]!==c.skipOptionalPartCharacter&&(f=vt(e,i[u],!0,!0),f!==!1&&(et(!0),e=f.caret!==r?f.caret:f.pos+1))}function ir(t,i,r){var f,e;switch(c.casing||i.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":f=v().validPositions[r-1];t=r===0||f&&f.input===String.fromCharCode(u.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:n.isFunction(c.casing)&&(e=Array.prototype.slice.call(arguments),e.push(v().validPositions),t=c.casing.apply(this,e))}return t}function rr(t,i,u){for(var f,l=c.greedy?i:i.slice(0,1),o=!1,s=u!==r?u.split(","):[],h,e=0;e<s.length;e++)(h=t.indexOf(s[e]))!==-1&&t.splice(h,1);for(f=0;f<t.length;f++)if(n.inArray(t[f],l)!==-1){o=!0;break}return o}function ri(t,i,u,f,e){var ft=n.extend(!0,{},v().validPositions),y,k,h=!1,l,c,s,a,o,p=e!==r?e:w(),d,g,b,nt,ut,it,rt;if(p===-1&&e===r)y=0,c=tt(y),k=c.alternation;else for(;p>=0;p--)if(l=v().validPositions[p],l&&l.alternation!==r){if(c&&c.locator[l.alternation]!==l.locator[l.alternation])break;y=p;k=v().validPositions[y].alternation;c=l}if(k!==r){for(o=parseInt(y),v().excludes[o]=v().excludes[o]||[],t!==!0&&v().excludes[o].push(ci(c)),d=[],g=0,s=o;s<w(r,!0)+1;s++)a=v().validPositions[s],a&&a.generatedInput!==!0?d.push(a.input):s<t&&g++,delete v().validPositions[s];while(v().excludes[o]&&v().excludes[o].length<10){for(b=g*-1,nt=d.slice(),v().tests[o]=r,et(!0),h=!0;nt.length>0;)if(ut=nt.shift(),!(h=vt(w(r,!0)+1,ut,!1,f,!0)))break;if(h&&i!==r){for(it=w(t)+1,s=o;s<w()+1;s++)a=v().validPositions[s],(a===r||a.match.fn==null)&&s<t+b&&b++;t=t+b;h=vt(t>it?it:t,i,u,f,!0)}if(h)break;else if(et(),c=tt(o),v().validPositions=n.extend(!0,{},ft),v().excludes[o]){if(rt=ci(c),v().excludes[o].indexOf(rt)!==-1){h=ri(t,i,u,f,o-1);break}for(v().excludes[o].push(rt),s=o;s<w(r,!0)+1;s++)delete v().validPositions[s]}else{h=ri(t,i,u,f,o-1);break}}}return v().excludes[o]=r,h}function vt(t,i,u,f,e,o){function b(n){return d?n.begin-n.end>1||n.begin-n.end==1:n.end-n.begin>1||n.end-n.begin==1}function g(i,u,e){var o=!1;return n.each(ht(i),function(s,h){var l=h.match,a,y;return p(!0),o=l.fn!=null?l.fn.test(u,v(),i,e,c,b(t)):(u===l.def||u===c.skipOptionalPartCharacter)&&l.def!==""?{c:ut(i,l,!0)||l.def,pos:i}:!1,o!==!1?(a=o.c!==r?o.c:u,y=i,a=a===c.skipOptionalPartCharacter&&l.fn===null?ut(i,l,!0)||l.def:a,o.remove!==r&&(n.isArray(o.remove)||(o.remove=[o.remove]),n.each(o.remove.sort(function(n,t){return t-n}),function(n,t){ui({begin:t,end:t+1})})),o.insert!==r&&(n.isArray(o.insert)||(o.insert=[o.insert]),n.each(o.insert.sort(function(n,t){return n-t}),function(n,t){vt(t.pos,t.c,!0,f)})),o!==!0&&o.pos!==r&&o.pos!==i&&(y=o.pos),o!==!0&&o.pos===r&&o.c===r)?!1:(ui(t,n.extend({},h,{input:ir(a,l,y)}),f,y)||(o=!1),!1):void 0}),o}var h,s,nt,w,a,tt,l,y;if(u=u===!0,h=t,t.begin!==r&&(h=d?t.end:t.begin),s=!0,nt=n.extend(!0,{},v().validPositions),n.isFunction(c.preValidation)&&!u&&f!==!0&&o!==!0&&(s=c.preValidation(p(),h,i,b(t),c,v())),s===!0){if(li(r,h,!0),(lt===r||h<lt)&&(s=g(h,i,u),(!u||f===!0)&&s===!1&&o!==!0))if(w=v().validPositions[h],w&&w.match.fn===null&&(w.match.def===i||i===c.skipOptionalPartCharacter))s={caret:k(h)};else if((c.insertMode||v().validPositions[k(h)]===r)&&!rt(h,!0))for(a=h+1,tt=k(h);a<=tt;a++)if(s=g(a,i,u),s!==!1){s=li(h,s.pos!==r?s.pos:a)||s;h=a;break}s===!1&&c.keepStatic!==!1&&(c.regex==null||pt(p()))&&!u&&e!==!0&&(s=ri(h,i,u,f));s===!0&&(s={pos:h})}return n.isFunction(c.postValidation)&&s!==!1&&!u&&f!==!0&&o!==!0&&(l=c.postValidation(p(!0),t.begin!==r?d?t.end:t.begin:t,s,c),l!==r&&(l.refreshFromBuffer&&l.buffer&&(y=l.refreshFromBuffer,pi(y===!0?y:y.start,y.end,l.buffer)),s=l===!0?s:l)),s&&s.pos===r&&(s.pos=h),(s===!1||o===!0)&&(et(!0),v().validPositions=n.extend(!0,{},nt)),s}function li(t,i,u){var s,f,h,o,e,c;if(t===r)for(t=i-1;t>0;t--)if(v().validPositions[t])break;for(f=t;f<i;f++)v().validPositions[f]!==r||rt(f,!0)||(h=f==0?tt(f):v().validPositions[f-1],h&&(o=ht(f).slice(),o[o.length-1].match.def===""&&o.pop(),e=ii(f,o),e=n.extend({},e,{input:ut(f,e.match,!0)||e.match.def}),e.generatedInput=!0,ui(f,e,!0),u!==!0&&(c=v().validPositions[i].input,v().validPositions[i]=r,s=vt(i,c,!0,!0))));return s}function ui(t,i,u,f){function g(n,t,i){var u=t[n],f,e;return u!==r&&(u.match.fn===null&&u.match.optionality!==!0||u.input===c.radixPoint)?(f=i.begin<=n-1?t[n-1]&&t[n-1].match.fn===null&&t[n-1]:t[n-1],e=i.end>n+1?t[n+1]&&t[n+1].match.fn===null&&t[n+1]:t[n+1],f&&e):!1}var h=t.begin!==r?t.begin:t,y=t.end!==r?t.end:t,a,k,o,s,b;if(t.begin>t.end&&(h=t.end,y=t.begin),f=f!==r?f:h,h!==y||c.insertMode&&v().validPositions[f]!==r&&u===r){for(a=n.extend(!0,{},v().validPositions),k=w(r,!0),v().p=h,o=k;o>=h;o--)v().validPositions[o]&&v().validPositions[o].match.nativeDef==="+"&&(c.isNegative=!1),delete v().validPositions[o];var l=!0,p=f,nt=v().validPositions,d=!1,e=p,o=p;for(i&&(v().validPositions[f]=n.extend(!0,{},i),e++,p++,h<y&&o++);o<=k;o++){if(s=a[o],s!==r&&(o>=y||o>=h&&s.generatedInput!==!0&&g(o,a,{begin:h,end:y}))){while(tt(e).match.def!==""){if(d===!1&&a[e]&&a[e].match.nativeDef===s.match.nativeDef?(v().validPositions[e]=n.extend(!0,{},a[e]),v().validPositions[e].input=s.input,li(r,e,!0),p=e+1,l=!0):tr(e,s.match.def)?(b=vt(e,s.input,!0,!0),l=b!==!1,p=b.caret||b.insert?w():e+1,d=!0):l=s.generatedInput===!0||s.input===c.radixPoint&&c.numericInput===!0,l)break;if(!l&&e>y&&rt(e,!0)&&(s.match.fn!==null||e>v().maskLength))break;e++}tt(e).match.def==""&&(l=!1);e=p}if(!l)break}if(!l)return v().validPositions=n.extend(!0,{},a),et(!0),!1}else i&&(v().validPositions[f]=n.extend(!0,{},i));return et(!0),!0}function rt(n,t){var i=bt(n).match,r;return(i.def===""&&(i=tt(n).match),i.fn!=null)?i.fn:t!==!0&&n>-1?(r=ht(n),r.length>1+(r[r.length-1].match.def===""?1:0)):!1}function k(n,t){for(var i=n+1;tt(i).match.def!==""&&(t===!0&&(tt(i).match.newBlockMarker!==!0||!rt(i))||t!==!0&&!rt(i));)i++;return i}function kt(n,t){var i=n,r;if(i<=0)return 0;while(--i>0&&(t===!0&&tt(i).match.newBlockMarker!==!0||t!==!0&&!rt(i)&&(r=ht(i),r.length<2||r.length===2&&r[1].match.def==="")));return i}function st(t,i,u,f,e){var o,s,h,l;f&&n.isFunction(c.onBeforeWrite)&&(o=c.onBeforeWrite.call(at,f,i,u,c),o&&(o.refreshFromBuffer&&(s=o.refreshFromBuffer,pi(s===!0?s:s.start,s.end,o.buffer||i),i=p(!0)),u!==r&&(u=o.caret!==r?o.caret:u)));t!==r&&(t.inputmask._valueSet(i.join("")),u!==r&&(f===r||f.type!=="blur")?g(t,u):gi(t,u,i.length===0),e===!0&&(h=n(t),l=t.inputmask._valueGet(),gt=!0,h.trigger("input"),setTimeout(function(){l===ot().join("")?h.trigger("cleared"):pt(i)===!0&&h.trigger("complete")},0)))}function ut(t,i,u){var f,o,s,e;if(i=i||tt(t).match,i.placeholder!==r||u===!0)return n.isFunction(i.placeholder)?i.placeholder(c):i.placeholder;if(i.fn===null){if(t>-1&&v().validPositions[t]===r&&(f=ht(t),o=[],f.length>1+(f[f.length-1].match.def===""?1:0)))for(e=0;e<f.length;e++)if(f[e].match.optionality!==!0&&f[e].match.optionalQuantifier!==!0&&(f[e].match.fn===null||s===r||f[e].match.fn.test(s.match.def,v(),t,!0,c)!==!1)&&(o.push(f[e]),f[e].match.fn===null&&(s=f[e]),o.length>1&&/[0-9a-bA-Z]/.test(o[0].match.def)))return c.placeholder.charAt(t%c.placeholder.length);return i.def}return c.placeholder.charAt(t%c.placeholder.length)}function yt(t,i,f,e,o){function nt(n,t){var i=wt(!0,0,!1).slice(n,k(n)).join("").replace(/'/g,"").indexOf(t);return i!==-1&&!rt(n)&&(tt(n).match.nativeDef===t.charAt(0)||tt(n).match.fn===null&&tt(n).match.nativeDef==="'"+t.charAt(0)||tt(n).match.nativeDef===" "&&(tt(n+1).match.nativeDef===t.charAt(0)||tt(n+1).match.fn===null&&tt(n+1).match.nativeDef==="'"+t.charAt(0)))}var a=this||t.inputmask,l=e.slice(),d="",s=-1,h=r,g,y;et();f||c.autoUnmask===!0?s=k(s):(g=ot().slice(0,k(-1)).join(""),y=l.join("").match(new RegExp("^"+u.escapeRegex(g),"g")),y&&y.length>0&&(l.splice(0,y.length*g.length),s=k(s)));s===-1?(v().p=k(s),s=0):v().p=s;a.caretPos={begin:s};n.each(l,function(i,u){var e,o;u!==r&&(v().validPositions[i]===r&&l[i]===ut(i)&&rt(i,!0)&&vt(i,l[i],!0,r,r,!0)===!1?v().p++:(e=new n.Event("_checkval"),e.which=u.charCodeAt(0),d+=u,o=w(r,!0),nt(s,d)?h=b.keypressEvent.call(t,e,!0,!1,f,o+1):(h=b.keypressEvent.call(t,e,!0,!1,f,a.caretPos.begin),h&&(s=a.caretPos.begin+1,d="")),h&&(st(r,p(),h.forwardPosition,e,!1),a.caretPos={begin:h.forwardPosition,end:h.forwardPosition})))});i&&st(t,p(),h?h.forwardPosition:r,o||new n.Event("checkval"),o&&o.type==="input")}function wi(t){var i,u,f,e,o;if(t){if(t.inputmask===r)return t.value;t.inputmask&&t.inputmask.refreshValue&&b.setValueEvent.call(t)}i=[];u=v().validPositions;for(f in u)u[f].match&&u[f].match.fn!=null&&i.push(u[f].input);return e=i.length===0?"":(d?i.reverse():i).join(""),n.isFunction(c.onUnMask)&&(o=(d?p().slice().reverse():p()).join(""),e=c.onUnMask.call(at,o,e,c)),e}function g(u,f,e,o){function h(n){return d&&typeof n=="number"&&(!c.greedy||c.placeholder!=="")&&y&&(n=y.inputmask._valueGet().length-n),n}var s,l,v,a;if(f!==r)n.isArray(f)&&(e=d?f[0]:f[1],f=d?f[1]:f[0]),f.begin!==r&&(e=d?f.begin:f.end,f=d?f.end:f.begin),typeof f=="number"&&(f=o?f:h(f),e=o?e:h(e),e=typeof e=="number"?e:f,l=parseInt(((u.ownerDocument.defaultView||t).getComputedStyle?(u.ownerDocument.defaultView||t).getComputedStyle(u,null):u.currentStyle).fontSize)*e,u.scrollLeft=l>u.scrollWidth?l:0,u.inputmask.caretPos={begin:f,end:e},u===i.activeElement&&("selectionStart"in u?(u.selectionStart=f,u.selectionEnd=e):t.getSelection?(s=i.createRange(),(u.firstChild===r||u.firstChild===null)&&(v=i.createTextNode(""),u.appendChild(v)),s.setStart(u.firstChild,f<u.inputmask._valueGet().length?f:u.inputmask._valueGet().length),s.setEnd(u.firstChild,e<u.inputmask._valueGet().length?e:u.inputmask._valueGet().length),s.collapse(!0),a=t.getSelection(),a.removeAllRanges(),a.addRange(s)):u.createTextRange&&(s=u.createTextRange(),s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",f),s.select()),gi(u,{begin:f,end:e})));else return"selectionStart"in u?(f=u.selectionStart,e=u.selectionEnd):t.getSelection?(s=t.getSelection().getRangeAt(0),(s.commonAncestorContainer.parentNode===u||s.commonAncestorContainer===u)&&(f=s.startOffset,e=s.endOffset)):i.selection&&i.selection.createRange&&(s=i.selection.createRange(),f=0-s.duplicate().moveStart("character",-u.inputmask._valueGet().length),e=f+s.text.length),{begin:o?f:h(f),end:o?e:h(e)}}function bi(t){for(var h=wt(!0,w(),!0,!0),e=h.length,c=w(),o={},f=v().validPositions[c],l=f!==r?f.locator.slice():r,u,s,i=c+1;i<h.length;i++)u=bt(i,l,i-1),l=u.locator.slice(),o[i]=n.extend(!0,{},u);for(s=f&&f.alternation!==r?f.locator[f.alternation]:r,i=e-1;i>c;i--)if(u=o[i],(u.match.optionality||u.match.optionalQuantifier&&u.match.newBlockMarker||s&&(s!==o[i].locator[f.alternation]&&u.match.fn!=null||u.match.fn===null&&u.locator[f.alternation]&&rr(u.locator[f.alternation].toString().split(","),s.toString().split(","))&&ht(i)[0].def!==""))&&h[i]===ut(i,u.match))e--;else break;return t?{l:e,def:o[e]?o[e].match:r}:e}function fi(n){n.length=0;for(var i=wt(!0,0,!0,r,!0),t;t=i.shift(),t!==r;)n.push(t);return n}function pt(t){var i,u;if(n.isFunction(c.isComplete))return c.isComplete(t,c);if(c.repeat==="*")return r;var e=!1,f=bi(!0),o=kt(f.l);if(f.def===r||f.def.newBlockMarker||f.def.optionality||f.def.optionalQuantifier)for(e=!0,i=0;i<=o;i++)if(u=bt(i).match,u.fn!==null&&v().validPositions[i]===r&&u.optionality!==!0&&u.optionalQuantifier!==!0||u.fn===null&&t[i]!==ut(i,u)){e=!1;break}return e}function ki(n,t,i,f,e){var l,o,h,s;if((c.numericInput||d)&&(t===u.keyCode.BACKSPACE?t=u.keyCode.DELETE:t===u.keyCode.DELETE&&(t=u.keyCode.BACKSPACE),d&&(l=i.end,i.end=i.begin,i.begin=l)),t===u.keyCode.BACKSPACE&&i.end-i.begin<1?(i.begin=kt(i.begin),v().validPositions[i.begin]!==r&&v().validPositions[i.begin].input===c.groupSeparator&&i.begin--):t===u.keyCode.DELETE&&i.begin===i.end&&(i.end=rt(i.end,!0)&&v().validPositions[i.end]&&v().validPositions[i.end].input!==c.radixPoint?i.end+1:k(i.end)+1,v().validPositions[i.begin]!==r&&v().validPositions[i.begin].input===c.groupSeparator&&i.end++),ui(i),(f!==!0&&c.keepStatic!==!1||c.regex!==null)&&(o=ri(!0),o&&(h=o.caret!==r?o.caret:o.pos?k(o.pos.begin?o.pos.begin:o.pos):w(-1,!0),(t!==u.keyCode.DELETE||i.begin>h)&&i.begin==h)),s=w(i.begin,!0),s<i.begin||i.begin===-1)v().p=k(s);else if(f!==!0&&(v().p=i.begin,e!==!0))while(v().p<s&&v().validPositions[v().p]===r)v().p++}function di(r){function e(n){var t=i.createElement("span"),f,e,o,s,c,h,l;for(e in u)isNaN(e)&&e.indexOf("font")!==-1&&(t.style[e]=u[e]);for(t.style.textTransform=u.textTransform,t.style.letterSpacing=u.letterSpacing,t.style.position="absolute",t.style.height="auto",t.style.width="auto",t.style.visibility="hidden",t.style.whiteSpace="nowrap",i.body.appendChild(t),o=r.inputmask._valueGet(),s=0,f=0,c=o.length;f<=c;f++){if(t.innerHTML+=o.charAt(f)||"_",t.offsetWidth>=n){h=n-s;l=t.offsetWidth-n;t.innerHTML=o.charAt(f);h-=t.offsetWidth/3;f=h<l?f-1:f;break}s=t.offsetWidth}return i.body.removeChild(t),f}var u=(r.ownerDocument.defaultView||t).getComputedStyle(r,null),f=i.createElement("div");f.style.width=u.width;f.style.textAlign=u.textAlign;it=i.createElement("div");r.inputmask.colorMask=it;it.className="im-colormask";r.parentNode.insertBefore(it,r);r.parentNode.removeChild(r);it.appendChild(r);it.appendChild(f);r.style.left=f.offsetLeft+"px";n(it).on("mouseleave",function(n){return b.mouseleaveEvent.call(r,[n])});n(it).on("mouseenter",function(n){return b.mouseenterEvent.call(r,[n])});n(it).on("click",function(n){return g(r,e(n.clientX)),b.clickEvent.call(r,[n])})}function gi(n,t,u){function a(n){if(n===r&&(n=""),h||o.fn!==null&&s.input!==r)if(h&&(o.fn!==null&&s.input!==r||o.def==="")){h=!1;var t=e.length;e[t-1]=e[t-1]+"<\/span>";e.push(n)}else e.push(n);else h=!0,e.push("<span class='im-static'>"+n)}function d(){i.activeElement===n&&(e.splice(t.begin,0,t.begin===t.end||t.end>v().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),e.splice(t.end+1,0,"<\/mark>"))}var e=[],h=!1,o,s,l,f=0,k,y,b;if(it!==r){if(k=p(),t===r?t=g(n):t.begin===r&&(t={begin:t,end:t}),u!==!0){y=w();do v().validPositions[f]?(s=v().validPositions[f],o=s.match,l=s.locator.slice(),a(k[f])):(s=bt(f,l,f-1),o=s.match,l=s.locator.slice(),c.jitMasking===!1||f<y||typeof c.jitMasking=="number"&&isFinite(c.jitMasking)&&c.jitMasking>f?a(ut(f,o)):h=!1),f++;while((lt===r||f<lt)&&(o.fn!==null||o.def!=="")||y>f||h);h&&a();d()}b=it.getElementsByTagName("div")[0];b.innerHTML=e.join("");n.inputmask.positionColorMask(n,b)}}function ur(t){function s(t,u){function s(t){function c(t){if(n.valHooks&&(n.valHooks[t]===r||n.valHooks[t].inputmaskpatch!==!0)){var i=n.valHooks[t]&&n.valHooks[t].get?n.valHooks[t].get:function(n){return n.value},f=n.valHooks[t]&&n.valHooks[t].set?n.valHooks[t].set:function(n,t){return n.value=t,n};n.valHooks[t]={get:function(n){if(n.inputmask){if(n.inputmask.opts.autoUnmask)return n.inputmask.unmaskedvalue();var t=i(n);return w(r,r,n.inputmask.maskset.validPositions)!==-1||u.nullable!==!0?t:""}return i(n)},set:function(t,i){var u=n(t),r;return r=f(t,i),t.inputmask&&u.trigger("setvalue",[i]),r},inputmaskpatch:!0}}}function s(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():w()!==-1||u.nullable!==!0?i.activeElement===this&&u.clearMaskOnLostFocus?(d?fi(p().slice()).reverse():fi(p().slice())).join(""):f.call(this):"":f.call(this)}function h(t){e.call(this,t);this.inputmask&&n(this).trigger("setvalue",[t])}function l(t){nt.on(t,"mouseenter",function(){var t=n(this),i=this,r=i.inputmask._valueGet();r!==p().join("")&&t.trigger("setvalue")})}var f,e,o;t.inputmask.__valueGet||(u.noValuePatching!==!0&&(Object.getOwnPropertyDescriptor?(typeof Object.getPrototypeOf!="function"&&(Object.getPrototypeOf=typeof"test".__proto__=="object"?function(n){return n.__proto__}:function(n){return n.constructor.prototype}),o=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):r,o&&o.get&&o.set?(f=o.get,e=o.set,Object.defineProperty(t,"value",{get:s,set:h,configurable:!0})):t.tagName!=="INPUT"&&(f=function(){return this.textContent},e=function(n){this.textContent=n},Object.defineProperty(t,"value",{get:s,set:h,configurable:!0}))):i.__lookupGetter__&&t.__lookupGetter__("value")&&(f=t.__lookupGetter__("value"),e=t.__lookupSetter__("value"),t.__defineGetter__("value",s),t.__defineSetter__("value",h)),t.inputmask.__valueGet=f,t.inputmask.__valueSet=e),t.inputmask._valueGet=function(n){return d&&n!==!0?f.call(this.el).split("").reverse().join(""):f.call(this.el)},t.inputmask._valueSet=function(n,t){e.call(this.el,n===null||n===r?"":t!==!0&&d?n.split("").reverse().join(""):n)},f===r&&(f=function(){return this.value},e=function(n){this.value=n},c(t.type),l(t)))}var o=t.getAttribute("type"),f=t.tagName==="INPUT"&&n.inArray(o,u.supportsInputType)!==-1||t.isContentEditable||t.tagName==="TEXTAREA",e;return f||(t.tagName==="INPUT"?(e=i.createElement("input"),e.setAttribute("type",o),f=e.type==="text",e=null):f="partial"),f!==!1?s(t):t.inputmask=r,f}var f,e,u;if(nt.off(t),f=s(t,c),f!==!1){if(y=t,dt=n(y),hi=y.placeholder,lt=y!==r?y.maxLength:r,lt===-1&&(lt=r),c.colorMask===!0&&di(y),o&&("inputmode"in y&&(y.inputmode=c.inputmode,y.setAttribute("inputmode",c.inputmode)),c.disablePredictiveText===!0&&("autocorrect"in y?y.autocorrect=!1:(c.colorMask!==!0&&di(y),y.type="password"))),f===!0){y.setAttribute("im-insert",c.insertMode);nt.on(y,"submit",b.submitEvent);nt.on(y,"reset",b.resetEvent);nt.on(y,"blur",b.blurEvent);nt.on(y,"focus",b.focusEvent);if(c.colorMask!==!0){nt.on(y,"click",b.clickEvent);nt.on(y,"mouseleave",b.mouseleaveEvent);nt.on(y,"mouseenter",b.mouseenterEvent)}nt.on(y,"paste",b.pasteEvent);nt.on(y,"cut",b.cutEvent);nt.on(y,"complete",c.oncomplete);nt.on(y,"incomplete",c.onincomplete);nt.on(y,"cleared",c.oncleared);if(o||c.inputEventOnly===!0)y.removeAttribute("maxLength");else{nt.on(y,"keydown",b.keydownEvent);nt.on(y,"keypress",b.keypressEvent)}nt.on(y,"input",b.inputFallBackEvent);nt.on(y,"beforeinput",b.beforeInputEvent)}nt.on(y,"setvalue",b.setValueEvent);ft=ot().join("");(y.inputmask._valueGet(!0)!==""||c.clearMaskOnLostFocus===!1||i.activeElement===y)&&(e=n.isFunction(c.onBeforeMask)?c.onBeforeMask.call(at,y.inputmask._valueGet(!0),c)||y.inputmask._valueGet(!0):y.inputmask._valueGet(!0),e!==""&&yt(y,!0,!1,e.split("")),u=p().slice(),ft=u.join(""),pt(u)===!1&&c.clearIncomplete&&et(),c.clearMaskOnLostFocus&&i.activeElement!==y&&(w()===-1?u=[]:fi(u)),(c.clearMaskOnLostFocus===!1||c.showMaskOnFocus&&i.activeElement===y||y.inputmask._valueGet(!0)!=="")&&st(y,u),i.activeElement===y&&g(y,k(w())))}}var nt,b,ct,nr,oi;h=h||this.maskset;c=c||this.opts;var at=this,y=this.el,d=this.isRTL,ft,dt,si=!1,gt=!1,ni=!1,lt,ti=!1,it,hi;if(nt={on:function(t,i,f){var e=function(t){var i=this,h,e,a;if(i.inputmask===r&&this.nodeName!=="FORM")h=n.data(i,"_inputmask_opts"),h?new u(h).mask(i):nt.off(i);else{if(t.type==="setvalue"||this.nodeName==="FORM"||!i.disabled&&(!i.readOnly||t.type==="keydown"&&t.ctrlKey&&t.keyCode===67||c.tabThrough===!1&&t.keyCode===u.keyCode.TAB)){switch(t.type){case"input":if(gt===!0)return gt=!1,t.preventDefault();if(o)return e=arguments,setTimeout(function(){f.apply(i,e);g(i,i.inputmask.caretPos,r,!0)},0),!1;break;case"keydown":si=!1;gt=!1;break;case"keypress":if(si===!0)return t.preventDefault();si=!0;break;case"click":if(s||l)return e=arguments,setTimeout(function(){f.apply(i,e)},0),!1}return a=f.apply(i,arguments),a===!1&&(t.preventDefault(),t.stopPropagation()),a}t.preventDefault()}};if(t.inputmask.events[i]=t.inputmask.events[i]||[],t.inputmask.events[i].push(e),n.inArray(i,["submit","reset"])!==-1){if(t.form!==null)n(t.form).on(i,e)}else n(t).on(i,e)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var r;i?(r=[],r[i]=t.inputmask.events[i]):r=t.inputmask.events;n.each(r,function(i,r){while(r.length>0){var u=r.pop();n.inArray(i,["submit","reset"])!==-1?t.form!==null&&n(t.form).off(i,u):n(t).off(i,u)}delete t.inputmask.events[i]})}}},b={keydownEvent:function(t){var f=this,o=n(f),r=t.keyCode,i=g(f),e;r===u.keyCode.BACKSPACE||r===u.keyCode.DELETE||l&&r===u.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&r===u.keyCode.X&&!a("cut")?(t.preventDefault(),ki(f,r,i),st(f,p(!0),v().p,t,f.inputmask._valueGet()!==p().join(""))):r===u.keyCode.END||r===u.keyCode.PAGE_DOWN?(t.preventDefault(),e=k(w()),g(f,t.shiftKey?i.begin:e,e,!0)):(r!==u.keyCode.HOME||t.shiftKey)&&r!==u.keyCode.PAGE_UP?(c.undoOnEscape&&r===u.keyCode.ESCAPE||r===90&&t.ctrlKey)&&t.altKey!==!0?(yt(f,!0,!1,ft.split("")),o.trigger("click")):r!==u.keyCode.INSERT||t.shiftKey||t.ctrlKey?c.tabThrough===!0&&r===u.keyCode.TAB&&(t.shiftKey===!0?(tt(i.begin).match.fn===null&&(i.begin=k(i.begin)),i.end=kt(i.begin,!0),i.begin=kt(i.end,!0)):(i.begin=k(i.begin,!0),i.end=k(i.begin,!0),i.end<v().maskLength&&i.end--),i.begin<v().maskLength&&(t.preventDefault(),g(f,i.begin,i.end))):(c.insertMode=!c.insertMode,f.setAttribute("im-insert",c.insertMode)):(t.preventDefault(),g(f,0,t.shiftKey?i.begin:0,!0));c.onKeyDown.call(this,t,p(),g(f).begin,c);ni=n.inArray(r,c.ignorables)!==-1},keypressEvent:function(t,i,f,e,o){var a=this,nt=n(a),h=t.which||t.charCode||t.keyCode,b,s,d;if(i===!0||t.ctrlKey&&t.altKey||!(t.ctrlKey||t.metaKey||ni)){if(h){h===46&&t.shiftKey===!1&&c.radixPoint!==""&&(h=c.radixPoint.charCodeAt(0));var y=i?{begin:o,end:o}:g(a),l,tt=String.fromCharCode(h),w=0;if(c._radixDance&&c.numericInput&&(b=p().indexOf(c.radixPoint.charAt(0))+1,y.begin<=b&&(h===c.radixPoint.charCodeAt(0)&&(w=1),y.begin-=1,y.end-=1)),v().writeOutBuffer=!0,s=vt(y,tt,e),s!==!1&&(et(!0),l=s.caret!==r?s.caret:k(s.pos.begin?s.pos.begin:s.pos),v().p=l),l=(c.numericInput&&s.caret===r?kt(l):l)+w,f!==!1&&(setTimeout(function(){c.onKeyValidation.call(a,h,s,c)},0),v().writeOutBuffer&&s!==!1&&(d=p(),st(a,d,l,t,i!==!0))),t.preventDefault(),i)return s!==!1&&(s.forwardPosition=l),s}}else return h===u.keyCode.ENTER&&ft!==p().join("")&&(ft=p().join(""),setTimeout(function(){nt.trigger("change")},0)),!0},pasteEvent:function(i){var e=this,h=i.originalEvent||i,a=n(e),r=e.inputmask._valueGet(!0),u=g(e),l,o,s,f;if(d&&(l=u.end,u.end=u.begin,u.begin=l),o=r.substr(0,u.begin),s=r.substr(u.end,r.length),o===(d?ot().reverse():ot()).slice(0,u.begin).join("")&&(o=""),s===(d?ot().reverse():ot()).slice(u.end).join("")&&(s=""),t.clipboardData&&t.clipboardData.getData)r=o+t.clipboardData.getData("Text")+s;else if(h.clipboardData&&h.clipboardData.getData)r=o+h.clipboardData.getData("text/plain")+s;else return!0;if(f=r,n.isFunction(c.onBeforePaste)){if(f=c.onBeforePaste.call(at,r,c),f===!1)return i.preventDefault();f||(f=r)}return yt(e,!1,!1,f.toString().split("")),st(e,p(),k(w()),i,ft!==p().join("")),i.preventDefault()},inputFallBackEvent:function(t){function it(n,t,i){return t.charAt(i.begin-1)==="."&&c.radixPoint!==""&&(t=t.split(""),t[i.begin-1]=c.radixPoint.charAt(0),t=t.join("")),t}function rt(n,t,i){var r,u;return s&&(r=t.replace(p().join(""),""),r.length===1&&(u=t.split(""),u.splice(i.begin,0,r),t=u.join(""))),t}var r=this,f=r.inputmask._valueGet(),e,tt,o,nt;if(p().join("")!==f&&(e=g(r),f=it(r,f,e),f=rt(r,f,e),p().join("")!==f)){var k=p().join(""),h=!c.numericInput&&f.length>k.length?-1:0,l=f.substr(0,e.begin),a=f.substr(e.begin),y=k.substr(0,e.begin+h),w=k.substr(e.begin+h),i=e,v="",d=!1;if(l!==y){for(tt=(d=l.length>=y.length)?l.length:y.length,o=0;l.charAt(o)===y.charAt(o)&&o<tt;o++);d&&(i.begin=o-h,v+=l.slice(o,i.end))}a!==w&&(a.length>w.length?v+=a.slice(0,1):a.length<w.length&&(i.end+=w.length-a.length,d||c.radixPoint===""||a!==""||l.charAt(i.begin+h-1)!==c.radixPoint||(i.begin--,v=c.radixPoint)));st(r,p(),{begin:i.begin+h,end:i.end+h});v.length>0?n.each(v.split(""),function(t,i){var u=new n.Event("keypress");u.which=i.charCodeAt(0);ni=!1;b.keypressEvent.call(r,u)}):(i.begin===i.end-1&&(i.begin=kt(i.begin+1),i.begin===i.end-1?g(r,i.begin):g(r,i.begin,i.end)),nt=new n.Event("keydown"),nt.keyCode=c.numericInput?u.keyCode.BACKSPACE:u.keyCode.DELETE,b.keydownEvent.call(r,nt));t.preventDefault()}},beforeInputEvent:function(t){var r,i;if(t.cancelable){r=this;switch(t.inputType){case"insertText":return n.each(t.data.split(""),function(t,i){var u=new n.Event("keypress");u.which=i.charCodeAt(0);ni=!1;b.keypressEvent.call(r,u)}),t.preventDefault();case"deleteContentBackward":return i=new n.Event("keydown"),i.keyCode=u.keyCode.BACKSPACE,b.keydownEvent.call(r,i),t.preventDefault();case"deleteContentForward":return i=new n.Event("keydown"),i.keyCode=u.keyCode.DELETE,b.keydownEvent.call(r,i),t.preventDefault()}}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var r=this,i=t&&t.detail?t.detail[0]:arguments[1],i=i||r.inputmask._valueGet(!0);n.isFunction(c.onBeforeMask)&&(i=c.onBeforeMask.call(at,i,c)||i);i=i.split("");yt(r,!0,!1,i);ft=p().join("");(c.clearMaskOnLostFocus||c.clearIncomplete)&&r.inputmask._valueGet()===ot().join("")&&r.inputmask._valueSet("")},focusEvent:function(n){var t=this,i=t.inputmask._valueGet();c.showMaskOnFocus&&(!c.showMaskOnHover||c.showMaskOnHover&&i==="")&&(t.inputmask._valueGet()!==p().join("")?st(t,p(),k(w())):ti===!1&&g(t,k(w())));c.positionCaretOnTab===!0&&ti===!1&&b.clickEvent.apply(t,[n,!0]);ft=p().join("")},mouseleaveEvent:function(){var n=this;ti=!1;c.clearMaskOnLostFocus&&i.activeElement!==n&&(n.placeholder=hi,n.placeholder===""&&n.removeAttribute("placeholder"))},clickEvent:function(t,u){function e(t){var i,f,u;if(c.radixPoint!==""&&(i=v().validPositions,i[t]===r||i[t].input===ut(t))){if(t<k(-1))return!0;if(f=n.inArray(c.radixPoint,p()),f!==-1){for(u in i)if(f<u&&i[u].input!==ut(u))return!1;return!0}}return!1}var f=this;setTimeout(function(){var n,h,y;if(i.activeElement===f&&(n=g(f),u&&(d?n.end=n.begin:n.begin=n.end),n.begin===n.end))switch(c.positionCaretOnClick){case"none":break;case"select":g(f,0,p().length);break;case"ignore":g(f,k(w()));break;case"radixFocus":if(e(n.begin)){h=p().join("").indexOf(c.radixPoint);g(f,c.numericInput?k(h):h);break}default:var o=n.begin,b=w(o,!0),t=k(b);if(o<t)g(f,!rt(o,!0)&&!rt(o-1,!0)?k(o):o);else{var l=v().validPositions[b],s=bt(t,l?l.match.locator:r,l),a=ut(t,s.match);(a===""||p()[t]===a||s.match.optionalQuantifier===!0||s.match.newBlockMarker===!0)&&(rt(t,c.keepStatic)||s.match.def!==a)||(y=k(t),(o>=y||o===t)&&(t=y));g(f,t)}}},0)},cutEvent:function(r){var e=this,c=n(e),f=g(e),s=r.originalEvent||r,h=t.clipboardData||s.clipboardData,o=d?p().slice(f.end,f.begin):p().slice(f.begin,f.end);h.setData("text",d?o.reverse().join(""):o.join(""));i.execCommand&&i.execCommand("copy");ki(e,u.keyCode.DELETE,f);st(e,p(),v().p,r,ft!==p().join(""))},blurEvent:function(t){var e=n(this),u=this,f,i;u.inputmask&&(u.placeholder=hi,u.placeholder===""&&u.removeAttribute("placeholder"),f=u.inputmask._valueGet(),i=p().slice(),(f!==""||it!==r)&&(c.clearMaskOnLostFocus&&(w()===-1&&f===ot().join("")?i=[]:fi(i)),pt(i)===!1&&(setTimeout(function(){e.trigger("incomplete")},0),c.clearIncomplete&&(et(),i=c.clearMaskOnLostFocus?[]:ot().slice())),st(u,i,r,t)),ft!==p().join("")&&(ft=i.join(""),e.trigger("change")))},mouseenterEvent:function(){var n=this;ti=!0;i.activeElement!==n&&c.showMaskOnHover&&(n.placeholder=(d?p().slice().reverse():p()).join(""))},submitEvent:function(){ft!==p().join("")&&dt.trigger("change");c.clearMaskOnLostFocus&&w()===-1&&y.inputmask._valueGet&&y.inputmask._valueGet()===ot().join("")&&y.inputmask._valueSet("");c.clearIncomplete&&pt(p())===!1&&y.inputmask._valueSet("");c.removeMaskOnSubmit&&(y.inputmask._valueSet(y.inputmask.unmaskedvalue(),!0),setTimeout(function(){st(y,p())},0))},resetEvent:function(){y.inputmask.refreshValue=!0;setTimeout(function(){dt.trigger("setvalue")},0)}},u.prototype.positionColorMask=function(n,t){n.style.left=t.offsetLeft+"px"},e!==r)switch(e.action){case"isComplete":return y=e.el,pt(p());case"unmaskedvalue":return(y===r||e.value!==r)&&(ct=e.value,ct=(n.isFunction(c.onBeforeMask)?c.onBeforeMask.call(at,ct,c)||ct:ct).split(""),yt.call(this,r,!1,!1,ct),n.isFunction(c.onBeforeWrite)&&c.onBeforeWrite.call(at,r,p(),0,c)),wi(y);case"mask":ur(y);break;case"format":return(ct=(n.isFunction(c.onBeforeMask)?c.onBeforeMask.call(at,e.value,c)||e.value:e.value).split(""),yt.call(this,r,!0,!1,ct),e.metadata)?{value:d?p().slice().reverse().join(""):p().join(""),metadata:f.call(this,{action:"getmetadata"},h,c)}:d?p().slice().reverse().join(""):p().join("");case"isValid":e.value?(ct=e.value.split(""),yt.call(this,r,!0,!0,ct)):e.value=p().join("");for(var ai=p(),vi=bi(),ei=ai.length-1;ei>vi;ei--)if(rt(ei))break;return ai.splice(vi,ei+1-vi),pt(ai)&&e.value===p().join("");case"getemptymask":return ot().join("");case"remove":return y&&y.inputmask&&(n.data(y,"_inputmask_opts",null),dt=n(y),y.inputmask._valueSet(c.autoUnmask?wi(y):y.inputmask._valueGet(!0)),nt.off(y),y.inputmask.colorMask&&(it=y.inputmask.colorMask,it.removeChild(y),it.parentNode.insertBefore(y,it),it.parentNode.removeChild(it)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(nr=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(y),"value"),nr&&y.inputmask.__valueGet&&Object.defineProperty(y,"value",{get:y.inputmask.__valueGet,set:y.inputmask.__valueSet,configurable:!0})):i.__lookupGetter__&&y.__lookupGetter__("value")&&y.inputmask.__valueGet&&(y.__defineGetter__("value",y.inputmask.__valueGet),y.__defineSetter__("value",y.inputmask.__valueSet)),y.inputmask=r),y;case"getmetadata":return n.isArray(h.metadata)?(oi=wt(!0,0,!1).join(""),n.each(h.metadata,function(n,t){if(t.mask===oi)return oi=t,!1}),oi):h.metadata}}var c=navigator.userAgent,o=a("touchstart"),s=/iemobile/i.test(c),l=/iphone/i.test(c)&&!s;return u.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:n.noop,onincomplete:n.noop,oncleared:n.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:n.noop,onBeforeMask:null,onBeforePaste:function(t,i){return n.isFunction(i.onBeforeMask)?i.onBeforeMask.call(this,t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:n.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:r,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0},definitions:{"9":{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(o){function c(i,u,f,e){if(u.importDataAttributes===!0){var l=i.getAttribute(e),a,o,s,c;function v(n,u){u=u!==r?u:i.getAttribute(e+"-"+n);u!==null&&(typeof u=="string"&&(n.indexOf("on")===0?u=t[u]:u==="false"?u=!1:u==="true"&&(u=!0)),f[n]=u)}if(l&&l!==""&&(l=l.replace(/'/g,'"'),o=JSON.parse("{"+l+"}")),o){s=r;for(c in o)if(c.toLowerCase()==="alias"){s=o[c];break}}v("alias",s);f.alias&&h(f.alias,f,u);for(a in u){if(o){s=r;for(c in o)if(c.toLowerCase()===a.toLowerCase()){s=o[c];break}}v(a,s)}}return n.extend(!0,u,f),(i.dir==="rtl"||u.rightAlign)&&(i.style.textAlign="right"),(i.dir==="rtl"||u.numericInput)&&(i.dir="ltr",i.removeAttribute("dir"),u.isRTL=!0),Object.keys(f).length}var s=this;return typeof o=="string"&&(o=i.getElementById(o)||i.querySelectorAll(o)),o=o.nodeName?[o]:o,n.each(o,function(t,i){var o=n.extend(!0,{},s.opts),h;c(i,o,n.extend(!0,{},s.userOptions),s.dataAttribute)&&(h=e(o,s.noMasksCache),h!==r&&(i.inputmask!==r&&(i.inputmask.opts.autoUnmask=!0,i.inputmask.remove()),i.inputmask=new u(r,r,!0),i.inputmask.opts=o,i.inputmask.noMasksCache=s.noMasksCache,i.inputmask.userOptions=n.extend(!0,{},s.userOptions),i.inputmask.isRTL=o.isRTL||o.numericInput,i.inputmask.el=i,i.inputmask.maskset=h,n.data(i,"_inputmask_opts",o),f.call(i.inputmask,{action:"mask"})))}),o&&o[0]?o[0].inputmask||this:this},option:function(t,i){return typeof t=="string"?this.opts[t]:typeof t=="object"?(n.extend(this.userOptions,t),this.el&&i!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(n){return this.maskset=this.maskset||e(this.opts,this.noMasksCache),f.call(this,{action:"unmaskedvalue",value:n})},remove:function(){return f.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||e(this.opts,this.noMasksCache),f.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||e(this.opts,this.noMasksCache),f.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||e(this.opts,this.noMasksCache),f.call(this,{action:"getmetadata"})},isValid:function(n){return this.maskset=this.maskset||e(this.opts,this.noMasksCache),f.call(this,{action:"isValid",value:n})},format:function(n,t){return this.maskset=this.maskset||e(this.opts,this.noMasksCache),f.call(this,{action:"format",value:n,metadata:t})},setValue:function(t){this.el&&n(this.el).trigger("setvalue",[t])},analyseMask:function(t,i,f){function p(n,t,i,r){this.matches=[];this.openGroup=n||!1;this.alternatorGroup=!1;this.isGroup=n||!1;this.isOptional=t||!1;this.isQuantifier=i||!1;this.isAlternator=r||!1;this.quantifier={min:1,max:1}}function g(t,e,o){var s,h;o=o!==r?o:t.matches.length;s=t.matches[o-1];i?(e.indexOf("[")===0||v&&/\\d|\\s|\\w]/i.test(e)||e==="."?t.matches.splice(o++,0,{fn:new RegExp(e,f.casing?"i":""),optionality:!1,newBlockMarker:s===r?"master":s.def!==e,casing:null,def:e,placeholder:r,nativeDef:e}):(v&&(e=e[e.length-1]),n.each(e.split(""),function(n,i){s=t.matches[o-1];t.matches.splice(o++,0,{fn:null,optionality:!1,newBlockMarker:s===r?"master":s.def!==i&&s.fn!==null,casing:null,def:f.staticDefinitionSymbol||i,placeholder:f.staticDefinitionSymbol!==r?i:r,nativeDef:(v?"'":"")+i})})),v=!1):(h=(f.definitions?f.definitions[e]:r)||u.prototype.definitions[e],h&&!v?t.matches.splice(o++,0,{fn:h.validator?typeof h.validator=="string"?new RegExp(h.validator,f.casing?"i":""):new function(){this.test=h.validator}:new RegExp("."),optionality:!1,newBlockMarker:s===r?"master":s.def!==(h.definitionSymbol||e),casing:h.casing,def:h.definitionSymbol||e,placeholder:h.placeholder,nativeDef:e}):(t.matches.splice(o++,0,{fn:null,optionality:!1,newBlockMarker:s===r?"master":s.def!==e&&s.fn!==null,casing:null,def:f.staticDefinitionSymbol||e,placeholder:f.staticDefinitionSymbol!==r?e:r,nativeDef:(v?"'":"")+e}),v=!1))}function et(t){t&&t.matches&&n.each(t.matches,function(n,u){var e=t.matches[n+1];(e===r||e.matches===r||e.isQuantifier===!1)&&u&&u.isGroup&&(u.isGroup=!1,i||(g(u,f.groupmarker[0],0),u.openGroup!==!0&&g(u,f.groupmarker[1])));et(u)})}function nt(){if(e.length>0){if(s=e[e.length-1],g(s,c),s.isAlternator){o=e.pop();for(var n=0;n<o.matches.length;n++)o.matches[n].isGroup&&(o.matches[n].isGroup=!1);e.length>0?(s=e[e.length-1],s.matches.push(o)):l.matches.push(o)}}else g(l,c)}function ot(n){function e(n){return n===f.optionalmarker[0]?n=f.optionalmarker[1]:n===f.optionalmarker[1]?n=f.optionalmarker[0]:n===f.groupmarker[0]?n=f.groupmarker[1]:n===f.groupmarker[1]&&(n=f.groupmarker[0]),n}var t,i,u;n.matches=n.matches.reverse();for(t in n.matches)n.matches.hasOwnProperty(t)&&(i=parseInt(t),n.matches[t].isQuantifier&&n.matches[i+1]&&n.matches[i+1].isGroup&&(u=n.matches[t],n.matches.splice(t,1),n.matches.splice(i+1,0,u)),n.matches[t]=n.matches[t].matches!==r?ot(n.matches[t]):e(n.matches[t]));return n}function st(n){var t=new p(!0);return t.openGroup=!1,t.matches=n,t}var vt=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,yt=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,v=!1,l=new p,h,c,e=[],it=[],w,s,o,a,k,ut,y,rt,lt,tt,ft;for(i&&(f.optionalmarker[0]=r,f.optionalmarker[1]=r);h=i?yt.exec(t):vt.exec(t);){if(c=h[0],i)switch(c.charAt(0)){case"?":c="{0,1}";break;case"+":case"*":c="{"+c+"}"}if(v){nt();continue}switch(c.charAt(0)){case"(?=":break;case"(?!":break;case"(?<=":break;case"(?<!":break;case f.escapeChar:v=!0;i&&nt();break;case f.optionalmarker[1]:case f.groupmarker[1]:if(w=e.pop(),w.openGroup=!1,w!==r)if(e.length>0){if(s=e[e.length-1],s.matches.push(w),s.isAlternator){for(o=e.pop(),k=0;k<o.matches.length;k++)o.matches[k].isGroup=!1,o.matches[k].alternatorGroup=!1;e.length>0?(s=e[e.length-1],s.matches.push(o)):l.matches.push(o)}}else l.matches.push(w);else nt();break;case f.optionalmarker[0]:e.push(new p(!1,!0));break;case f.groupmarker[0]:e.push(new p(!0));break;case f.quantifiermarker[0]:ut=new p(!1,!1,!0);c=c.replace(/[{}]/g,"");var ht=c.split("|"),b=ht[0].split(","),d=isNaN(b[0])?b[0]:parseInt(b[0]),ct=b.length===1?d:isNaN(b[1])?b[1]:parseInt(b[1]);(d==="*"||d==="+")&&(d=ct==="*"?0:1);ut.quantifier={min:d,max:ct,jit:ht[1]};y=e.length>0?e[e.length-1].matches:l.matches;h=y.pop();h.isAlternator&&(y.push(h),y=h.matches,rt=new p(!0),lt=y.pop(),y.push(rt),y=rt.matches,h=lt);h.isGroup||(h=st([h]));y.push(h);y.push(ut);break;case f.alternatormarker:function at(n){var t=n.pop();return t.isQuantifier&&(t=st([n.pop(),t])),t}e.length>0?(s=e[e.length-1],tt=s.matches[s.matches.length-1],a=s.openGroup&&(tt.matches===r||tt.isGroup===!1&&tt.isAlternator===!1)?e.pop():at(s.matches)):a=at(l.matches);a.isAlternator?e.push(a):(a.alternatorGroup?(o=e.pop(),a.alternatorGroup=!1):o=new p(!1,!1,!1,!0),o.matches.push(a),e.push(o),a.openGroup&&(a.openGroup=!1,ft=new p(!0),ft.alternatorGroup=!0,e.push(ft)));break;default:nt()}}while(e.length>0)w=e.pop(),l.matches.push(w);return l.matches.length>0&&(et(l),it.push(l)),(f.numericInput||f.isRTL)&&ot(it[0]),it}},u.extendDefaults=function(t){n.extend(!0,u.prototype.defaults,t)},u.extendDefinitions=function(t){n.extend(!0,u.prototype.definitions,t)},u.extendAliases=function(t){n.extend(!0,u.prototype.aliases,t)},u.format=function(n,t,i){return u(t).format(n,i)},u.unmask=function(n,t){return u(t).unmaskedvalue(n)},u.isValid=function(n,t){return u(t).isValid(n)},u.remove=function(t){typeof t=="string"&&(t=i.getElementById(t)||i.querySelectorAll(t));t=t.nodeName?[t]:t;n.each(t,function(n,t){t.inputmask&&t.inputmask.remove()})},u.setValue=function(t,r){typeof t=="string"&&(t=i.getElementById(t)||i.querySelectorAll(t));t=t.nodeName?[t]:t;n.each(t,function(t,i){i.inputmask?i.inputmask.setValue(r):n(i).trigger("setvalue",[r])})},u.escapeRegex=function(n){return n.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","gim"),"\\$1")},u.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},u.dependencyLib=n,u}),function(n){typeof define=="function"&&define.amd?define(["jquery","./inputmask"],n):typeof exports=="object"?module.exports=n(require("jquery"),require("./inputmask")):n(jQuery,window.Inputmask)}(function(n,t){return n.fn.inputmask===undefined&&(n.fn.inputmask=function(i,r){var f,u=this[0];if(r===undefined&&(r={}),typeof i=="string")switch(i){case"unmaskedvalue":return u&&u.inputmask?u.inputmask.unmaskedvalue():n(u).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return u&&u.inputmask?u.inputmask.getemptymask():"";case"hasMaskedValue":return u&&u.inputmask?u.inputmask.hasMaskedValue():!1;case"isComplete":return u&&u.inputmask?u.inputmask.isComplete():!0;case"getmetadata":return u&&u.inputmask?u.inputmask.getmetadata():undefined;case"setvalue":t.setValue(u,r);break;case"option":if(typeof r=="string"){if(u&&u.inputmask!==undefined)return u.inputmask.option(r)}else return this.each(function(){if(this.inputmask!==undefined)return this.inputmask.option(r)});break;default:return r.alias=i,f=new t(r),this.each(function(){f.mask(this)})}else{if(Array.isArray(i))return r.alias=i,f=new t(r),this.each(function(){f.mask(this)});if(typeof i=="object")return f=new t(i),i.mask===undefined&&i.alias===undefined?this.each(function(){if(this.inputmask!==undefined)return this.inputmask.option(i);f.mask(this)}):this.each(function(){f.mask(this)});if(i===undefined)return this.each(function(){f=new t(r);f.mask(this)})}}),n.fn.inputmask}),function(n){typeof define=="function"&&define.amd?define(["./inputmask"],n):typeof exports=="object"?module.exports=n(require("./inputmask")):n(window.Inputmask)}(function(n){function i(t,i){for(var u="",r=0;r<t.length;r++)u+=n.prototype.definitions[t.charAt(r)]||i.definitions[t.charAt(r)]||i.optionalmarker.start===t.charAt(r)||i.optionalmarker.end===t.charAt(r)||i.quantifiermarker.start===t.charAt(r)||i.quantifiermarker.end===t.charAt(r)||i.groupmarker.start===t.charAt(r)||i.groupmarker.end===t.charAt(r)||i.alternatormarker===t.charAt(r)?"\\"+t.charAt(r):t.charAt(r);return u}function r(n,i){var r,u;if(i.numericInput)for(r=t.inArray(i.radixPoint,n),r===-1&&(n.push(i.radixPoint),r=n.length-1),u=1;u<=i.digits;u++)n[r+u]=n[r+u]||"0";return n}var t=n.dependencyLib;return n.extendAliases({numeric:{mask:function(n){var f,e,t,r,u;return n.repeat!==0&&isNaN(n.integerDigits)&&(n.integerDigits=n.repeat),n.repeat=0,n.groupSeparator===n.radixPoint&&n.digits&&n.digits!=="0"&&(n.groupSeparator=n.radixPoint==="."?",":n.radixPoint===","?".":""),n.groupSeparator===" "&&(n.skipOptionalPartCharacter=undefined),n.autoGroup=n.autoGroup&&n.groupSeparator!=="",n.autoGroup&&(typeof n.groupSize=="string"&&isFinite(n.groupSize)&&(n.groupSize=parseInt(n.groupSize)),isFinite(n.integerDigits)&&(f=Math.floor(n.integerDigits/n.groupSize),e=n.integerDigits%n.groupSize,n.integerDigits=parseInt(n.integerDigits)+(e===0?f-1:f),n.integerDigits<1&&(n.integerDigits="*"))),n.placeholder.length>1&&(n.placeholder=n.placeholder.charAt(0)),n.positionCaretOnClick==="radixFocus"&&n.placeholder===""&&n.integerOptional===!1&&(n.positionCaretOnClick="lvp"),n.definitions[";"]=n.definitions["~"],n.definitions[";"].definitionSymbol="~",n.numericInput===!0&&(n.positionCaretOnClick=n.positionCaretOnClick==="radixFocus"?"lvp":n.positionCaretOnClick,n.digitsOptional=!1,isNaN(n.digits)&&(n.digits=2),n.decimalProtect=!1),t="[+]",t+=i(n.prefix,n),t+=n.integerOptional===!0?"~{1,"+n.integerDigits+"}":"~{"+n.integerDigits+"}",n.digits!==undefined&&(r=n.decimalProtect?":":n.radixPoint,u=n.digits.toString().split(","),isFinite(u[0])&&u[1]&&isFinite(u[1])?t+=r+";{"+n.digits+"}":(isNaN(n.digits)||parseInt(n.digits)>0)&&(t+=n.digitsOptional?"["+r+";{1,"+n.digits+"}]":r+";{"+n.digits+"}")),t+=i(n.suffix,n),t+="[-]",n.greedy=!1,t},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(n,i,r,u,f,e){if(r==="-"||r===f.negationSymbol.front)return f.allowMinus!==!0?!1:(f.isNegative=f.isNegative===undefined?!0:!f.isNegative,n.join("")==="")?!0:{caret:e.validPositions[i]?i:undefined,dopost:!0};if(u===!1&&r===f.radixPoint&&f.digits!==undefined&&(isNaN(f.digits)||parseInt(f.digits)>0)){var o=t.inArray(f.radixPoint,n);if(o!==-1&&e.validPositions[o]!==undefined)return f.numericInput===!0?i===o:{caret:o+1}}return!0},postValidation:function(i,r,u,f){function k(n,t){var i="",r;return i+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",t.radixPoint!==""&&(r=n.join("").split(t.radixPoint),r[1]&&(i+=t.radixPoint+"*{"+r[1].match(/^\d*\??\d*/)[0].length+"}")),i}var a=f.suffix.split(""),v=f.prefix.split(""),o,h,s,e,l,y,c,b,p,w;if(u.pos===undefined&&u.caret!==undefined&&u.dopost!==!0||(o=u.caret!==undefined?u.caret:u.pos,h=i.slice(),f.numericInput&&(o=h.length-o-1,h=h.reverse()),s=h[o],s===f.groupSeparator&&(o+=1,s=h[o]),o===h.length-f.suffix.length-1&&s===f.radixPoint))return u;if(s!==undefined&&s!==f.radixPoint&&s!==f.negationSymbol.front&&s!==f.negationSymbol.back&&(h[o]="?",f.prefix.length>0&&o>=(f.isNegative===!1?1:0)&&o<f.prefix.length-1+(f.isNegative===!1?1:0)?v[o-(f.isNegative===!1?1:0)]="?":f.suffix.length>0&&o>=h.length-f.suffix.length-(f.isNegative===!1?1:0)&&(a[o-(h.length-f.suffix.length-(f.isNegative===!1?1:0))]="?")),v=v.join(""),a=a.join(""),e=h.join("").replace(v,""),e=e.replace(a,""),e=e.replace(new RegExp(n.escapeRegex(f.groupSeparator),"g"),""),e=e.replace(new RegExp("[-"+n.escapeRegex(f.negationSymbol.front)+"]","g"),""),e=e.replace(new RegExp(n.escapeRegex(f.negationSymbol.back)+"$"),""),isNaN(f.placeholder)&&(e=e.replace(new RegExp(n.escapeRegex(f.placeholder),"g"),"")),e.length>1&&e.indexOf(f.radixPoint)!==1&&(s==="0"&&(e=e.replace(/^\?/g,"")),e=e.replace(/^0/g,"")),e.charAt(0)===f.radixPoint&&f.radixPoint!==""&&f.numericInput!==!0&&(e="0"+e),e!==""){if(e=e.split(""),(!f.digitsOptional||f.enforceDigitsOnBlur&&u.event==="blur")&&isFinite(f.digits))for(l=t.inArray(f.radixPoint,e),y=t.inArray(f.radixPoint,h),l===-1&&(e.push(f.radixPoint),l=e.length-1),c=1;c<=f.digits;c++)(!f.digitsOptional||f.enforceDigitsOnBlur&&u.event==="blur")&&(e[l+c]===undefined||e[l+c]===f.placeholder.charAt(0))?e[l+c]=u.placeholder||f.placeholder.charAt(0):y!==-1&&h[y+c]!==undefined&&(e[l+c]=e[l+c]||h[y+c]);f.autoGroup===!0&&f.groupSeparator!==""&&(s!==f.radixPoint||u.pos!==undefined||u.dopost)?(b=e[e.length-1]===f.radixPoint&&u.c===f.radixPoint,e=n(k(e,f),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(e.join("")),b&&(e+=f.radixPoint),e.charAt(0)===f.groupSeparator&&e.substr(1)):e=e.join("")}return f.isNegative&&u.event==="blur"&&(f.isNegative=e!=="0"),e=v+e,e+=a,f.isNegative&&(e=f.negationSymbol.front+e+f.negationSymbol.back),e=e.split(""),s!==undefined&&(s!==f.radixPoint&&s!==f.negationSymbol.front&&s!==f.negationSymbol.back?(o=t.inArray("?",e),o>-1?e[o]=s:o=u.caret||0):(s===f.radixPoint||s===f.negationSymbol.front||s===f.negationSymbol.back)&&(p=t.inArray(s,e),p!==-1&&(o=p))),f.numericInput&&(o=e.length-o-1,e=e.reverse()),w={caret:(s===undefined||u.pos!==undefined)&&o!==undefined?o+(f.numericInput?-1:1):o,buffer:e,refreshFromBuffer:u.dopost||i.join("")!==e.join("")},w.refreshFromBuffer?w:u},onBeforeWrite:function(i,r,u,f){function o(t){t.parseMinMaxOptions===undefined&&(t.min!==null&&(t.min=t.min.toString().replace(new RegExp(n.escapeRegex(t.groupSeparator),"g"),""),t.radixPoint===","&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),t.max!==null&&(t.max=t.max.toString().replace(new RegExp(n.escapeRegex(t.groupSeparator),"g"),""),t.radixPoint===","&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}if(i)switch(i.type){case"keydown":return f.postValidation(r,u,{caret:u,dopost:!0},f);case"blur":case"checkval":var e;if(o(f),f.min!==null||f.max!==null){if(e=f.onUnMask(r.join(""),undefined,t.extend({},f,{unmaskAsNumber:!0})),f.min!==null&&e<f.min)return f.isNegative=f.min<0,f.postValidation(f.min.toString().replace(".",f.radixPoint).split(""),u,{caret:u,dopost:!0,placeholder:"0"},f);if(f.max!==null&&e>f.max)return f.isNegative=f.max<0,f.postValidation(f.max.toString().replace(".",f.radixPoint).split(""),u,{caret:u,dopost:!0,placeholder:"0"},f)}return f.postValidation(r,u,{caret:u,placeholder:"0",event:"blur"},f);case"_checkval":return{caret:u}}},regex:{integerPart:function(t,i){return i?new RegExp("["+n.escapeRegex(t.negationSymbol.front)+"+]?"):new RegExp("["+n.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+n.escapeRegex(t.groupSeparator)+n.escapeRegex(t.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(t,i,r,u,f,e){var s,l,a,o,h,c;if(t==="k"||t==="m"){for(s={insert:[],c:0},l=0,a=t==="k"?2:5;l<a;l++)s.insert.push({pos:r+l,c:0});return s.pos=r+a,s}if(s=u?new RegExp("[0-9"+n.escapeRegex(f.groupSeparator)+"]").test(t):new RegExp("[0-9]").test(t),s===!0){if(f.numericInput!==!0&&i.validPositions[r]!==undefined&&i.validPositions[r].match.def==="~"&&!e){for(o=i.buffer.join(""),o=o.replace(new RegExp("[-"+n.escapeRegex(f.negationSymbol.front)+"]","g"),""),o=o.replace(new RegExp(n.escapeRegex(f.negationSymbol.back)+"$"),""),h=o.split(f.radixPoint),h.length>1&&(h[1]=h[1].replace(/0/g,f.placeholder.charAt(0))),h[0]==="0"&&(h[0]=h[0].replace(/0/g,f.placeholder.charAt(0))),o=h[0]+f.radixPoint+h[1]||"",c=i._buffer.join(""),o===f.radixPoint&&(o=c);o.match(n.escapeRegex(c)+"$")===null;)c=c.slice(1);o=o.replace(c,"");o=o.split("");s=o[r]===undefined?{pos:r,remove:r}:{pos:r}}}else u||t!==f.radixPoint||i.validPositions[r-1]!==undefined||(s={insert:{pos:r,c:0},pos:r+1});return s},cardinality:1},"+":{validator:function(n,t,i,r,u){return u.allowMinus&&(n==="-"||n===u.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(n,t,i,r,u){return u.allowMinus&&n===u.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(t,i,r,u,f){var o="["+n.escapeRegex(f.radixPoint)+"]",e=new RegExp(o).test(t);return e&&i.validPositions[r]&&i.validPositions[r].match.placeholder===f.radixPoint&&(e={caret:r+1}),e},cardinality:1,placeholder:function(n){return n.radixPoint}}},onUnMask:function(t,i,r){if(i===""&&r.nullable===!0)return i;var u=t.replace(r.prefix,"");return(u=u.replace(r.suffix,""),u=u.replace(new RegExp(n.escapeRegex(r.groupSeparator),"g"),""),r.placeholder.charAt(0)!==""&&(u=u.replace(new RegExp(r.placeholder.charAt(0),"g"),"0")),r.unmaskAsNumber)?(r.radixPoint!==""&&u.indexOf(r.radixPoint)!==-1&&(u=u.replace(n.escapeRegex.call(this,r.radixPoint),".")),u=u.replace(new RegExp("^"+n.escapeRegex(r.negationSymbol.front)),"-"),u=u.replace(new RegExp(n.escapeRegex(r.negationSymbol.back)+"$"),""),Number(u)):u},isComplete:function(t,i){var r=(i.numericInput?t.slice().reverse():t).join("");return r=r.replace(new RegExp("^"+n.escapeRegex(i.negationSymbol.front)),"-"),r=r.replace(new RegExp(n.escapeRegex(i.negationSymbol.back)+"$"),""),r=r.replace(i.prefix,""),r=r.replace(i.suffix,""),r=r.replace(new RegExp(n.escapeRegex(i.groupSeparator)+"([0-9]{3})","g"),"$1"),i.radixPoint===","&&(r=r.replace(n.escapeRegex(i.radixPoint),".")),isFinite(r)},onBeforeMask:function(t,i){var u,f,e,o,h,c,s;return i.isNegative=undefined,typeof t=="number"&&i.radixPoint!==""&&(t=t.toString().replace(".",i.radixPoint)),t=t.toString().charAt(t.length-1)===i.radixPoint?t.toString().substr(0,t.length-1):t.toString(),i.radixPoint!==""&&isFinite(t)&&(u=t.split("."),f=i.groupSeparator!==""?parseInt(i.groupSize):0,u.length===2&&(u[0].length>f||u[1].length>f||u[0].length<=f&&u[1].length<f)&&(t=t.replace(".",i.radixPoint))),e=t.match(/,/g),o=t.match(/\./g),o&&e?o.length>e.length?(t=t.replace(/\./g,""),t=t.replace(",",i.radixPoint)):e.length>o.length?(t=t.replace(/,/g,""),t=t.replace(".",i.radixPoint)):t=t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t.replace(/,/g,""):t=t.replace(new RegExp(n.escapeRegex(i.groupSeparator),"g"),""),i.digits===0&&(t.indexOf(".")!==-1?t=t.substring(0,t.indexOf(".")):t.indexOf(",")!==-1&&(t=t.substring(0,t.indexOf(",")))),i.radixPoint!==""&&isFinite(i.digits)&&t.indexOf(i.radixPoint)!==-1&&(h=t.split(i.radixPoint),c=h[1].match(new RegExp("\\d*"))[0],parseInt(i.digits)<c.toString().length&&(s=Math.pow(10,parseInt(i.digits)),t=t.replace(n.escapeRegex(i.radixPoint),"."),t=Math.round(parseFloat(t)*s)/s,t=t.toString().replace(".",i.radixPoint))),r(t.toString().split(""),i).join("")},onKeyDown:function(i,r,u,f){var e=t(this);if(i.ctrlKey)switch(i.keyCode){case n.keyCode.UP:e.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(f.step));e.trigger("setvalue");break;case n.keyCode.DOWN:e.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(f.step));e.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),n});